<h1>Análisis de Resonancia de Conductos</h1>

<div class="container flex-column margin-botton-10">
  <div>
    <div class="motor-inputs">
      <h3>Parámetros del Motor</h3>

      <div class="container grid grid-col-2">
        <div class="input-group">
          <label for="rpm">Revoluciones del motor (RPM):</label>
          <input type="number" id="tubing-rpm" class="input-field" [(ngModel)]="rpm" />
        </div>
        <div class="input-group">
          <label for="tubing-pistonDiameter">Diámetro del Pistón (mm):</label>
          <input
            type="number"
            id="tubing-pistonDiameter"
            class="input-field"
            [(ngModel)]="pistonDiameter"
          />
        </div>
        <div class="input-group">
          <label for="tubing-stroke">Carrera del Motor (mm):</label>
          <input type="number" id="tubing-stroke" class="input-field" [(ngModel)]="stroke" />
        </div>
        <div class="input-group">
          <label for="volumetricEfficiency">Eficiencia Volumétrica:</label>
          <input
            type="number"
            id="volumetricEfficiency"
            class="input-field"
            [(ngModel)]="volumetricEfficiency"
          />
        </div>
      </div>
    </div>
  </div>

  <div class="container flex-row">
    <div class="motor-inputs">
      <h3>Admisión</h3>
      <div class="input-group">
        <label for="intakeValveOpening">Avance Apertura Admisión (AAA°):</label>
        <input
          type="number"
          id="intakeValveOpening"
          class="input-field"
          [(ngModel)]="intakeValveOpenning"
        />
      </div>
      <div class="input-group">
        <label for="intakeValveClosing">Retraso Cierre Admisión (RCA°):</label>
        <input
          type="number"
          id="tubing-intakeValveClosing"
          class="input-field"
          [(ngModel)]="intakeValveClosing"
        />
      </div>
      <div class="input-group">
        <label for="intakeHarmonic">Armónico de Admisión:</label>
        <select id="intakeHarmonic" class="input-field" [(ngModel)]="intakeHarmonic">
          <option value="1">1</option>
          <option value="3">3</option>
          <option value="5">5</option>
        </select>
      </div>
      <div class="input-group">
        <label for="intakeTemperature">Temperatura de Admisión (°C):</label>
        <input
          type="number"
          id="intakeTemperature"
          class="input-field"
          [(ngModel)]="intakeTemperature"
        />
      </div>
      <div class="input-group">
        <label for="intakeAverageSpeed">Velocidad media del aire de Admisión (m/s):</label>
        <input
          type="number"
          id="intakeAverageSpeed"
          class="input-field"
          [(ngModel)]="intakeAverageSpeed"
        />
      </div>
      <div class="input-group">
        <label for="intakeValveAmount">Numero de Válvulas de Admisión:</label>
        <input
          type="number"
          id="intakeValveAmount"
          class="input-field"
          [(ngModel)]="intakeValveAmount"
        />
      </div>
      <div class="input-group">
        <label for="intakeValveDiameter">Diámetro de la Válvula de Admisión (mm):</label>
        <input
          type="number"
          id="intakeValveDiameter"
          class="input-field"
          [(ngModel)]="intakeValveDiameter"
        />
      </div>
      <div class="input-group">
        <label for="intakeValveStemDiameter"
          >Diámetro del Vástago la Válvula de Admisión (mm):</label
        >
        <input
          type="number"
          id="intakeValveStemDiameter"
          class="input-field"
          [(ngModel)]="intakeValveStemDiameter"
        />
      </div>
      <div class="input-group">
        <label for="intakeSeatAngle">Ángulo del asiento de la Válvula de Admisión (mm):</label>
        <input
          type="number"
          id="intakeSeatAngle"
          class="input-field"
          [(ngModel)]="intakeSeatAngle"
        />
      </div>
      <div class="input-group">
        <label for="intakeValveSeatInnerDiameterRatio"
          >Diámetro Interior del Asiento de Admisión (%):</label
        >
        <input
          type="number"
          id="intakeValveSeatInnerDiameterRatio"
          class="input-field"
          [(ngModel)]="intakeValveSeatInnerDiameterRatio"
        />
      </div>
    </div>

    <div class="motor-inputs">
      <h3>Escape</h3>
      <div class="input-group">
        <label for="intakeValveOpening">Avance Apertura Admisión (AAA°):</label>
        <input
          type="number"
          id="intakeValveOpening"
          class="input-field"
          [(ngModel)]="intakeValveOpenning"
        />
      </div>
      <div class="input-group">
        <label for="exhaustValveOpenning">Avance Apertura Escape (AAE°):</label>
        <input
          type="number"
          id="exhaustValveOpenning"
          class="input-field"
          [(ngModel)]="exhaustValveOpenning"
        />
      </div>
      <div class="input-group">
        <label for="exhaustHarmonic">Armónico de Escape:</label>
        <select id="exhaustHarmonic" class="input-field" [(ngModel)]="exhaustHarmonic">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <div class="input-group">
        <label for="exhaustTemperature">Temperatura de Escape (°C):</label>
        <input
          type="number"
          id="exhaustTemperature"
          class="input-field"
          [(ngModel)]="exhaustTemperature"
        />
      </div>
      <div class="input-group">
        <label for="exhaustAverageSpeed">Velocidad media de los gases de Escape (m/s):</label>
        <input
          type="number"
          id="exhaustAverageSpeed"
          class="input-field"
          [(ngModel)]="exhaustAverageSpeed"
        />
      </div>
      <div class="input-group">
        <label for="exhaustValveAmount">Numero de Válvulas de Escape:</label>
        <input
          type="number"
          id="exhaustValveAmount"
          class="input-field"
          [(ngModel)]="exhaustValveAmount"
        />
      </div>
      <div class="input-group">
        <label for="exhaustValveDiameter">Diámetro de la Válvula de Escape (mm):</label>
        <input
          type="number"
          id="exhaustValveDiameter"
          class="input-field"
          [(ngModel)]="exhaustValveDiameter"
        />
      </div>
      <div class="input-group">
        <label for="exhaustValveStemDiameter"
          >Diámetro del vástago la Válvula de Escape (mm):</label
        >
        <input
          type="number"
          id="exhaustValveStemDiameter"
          class="input-field"
          [(ngModel)]="exhaustValveStemDiameter"
        />
      </div>
      <div class="input-group">
        <label for="exhaustSeatAngle">Ángulo del asiento de la Válvula de Escape (mm):</label>
        <input
          type="number"
          id="exhaustSeatAngle"
          class="input-field"
          [(ngModel)]="exhaustSeatAngle"
        />
      </div>
      <div class="input-group">
        <label for="exhaustValveSeatInnerDiameterRatio"
          >Diámetro Interior del Asiento de Escape (%):</label
        >
        <input
          type="number"
          id="exhaustValveSeatInnerDiameterRatio"
          class="input-field"
          [(ngModel)]="exhaustValveSeatInnerDiameterRatio"
        />
      </div>
    </div>
  </div>
</div>

<button id="calculate" (click)="calculate()">Calcular</button>

<div
  class="container grid grid-col-2 margin-botton-10"
  *ngIf="intakeLength !== null || exhaustLength !== null"
>
  <div>
    <app-results-card
      title="Velocidad Sonido Admisión"
      [value]="intakeSoundSpeed | number : '1.2-2'"
      unit="m/s"
    />
    <app-results-card
      title="Largo de Admisión"
      [value]="intakeLength | number : '1.2-2'"
      unit="cm"
    />
    <app-results-card
      title="Diámetro del Tubo de Admisión"
      [value]="intakeDiameter | number : '1.2-2'"
      unit="mm"
    />
    <app-results-card
      title="Máxima Alzada Teórica de Admisión"
      [value]="intakeMaxTheoricalLift | number : '1.2-2'"
      unit="mm"
    />
  </div>
  <div>
    <app-results-card
      title="Velocidad Sonido Escape"
      [value]="exhaustSoundSpeed | number : '1.2-2'"
      unit="m/s"
    />
    <app-results-card
      title="Largo de Escape"
      [value]="exhaustLength | number : '1.2-2'"
      unit="cm"
    />
    <app-results-card
      title="Diámetro del Tubo de Escape"
      [value]="exhaustDiameter | number : '1.2-2'"
      unit="mm"
    />
    <app-results-card
      title="Máxima Alzada Teórica de Escape"
      [value]="exhaustMaxTheoricalLift | number : '1.2-2'"
      unit="mm"
    />
  </div>
</div>

<div class="container grid grid-col-2 margin-botton-10">
  <app-scatter-chart
    #intakeFlowChart
    chartId="intakeFlowChart"
    label="Admisión"
    title="Área de Flujo Válvula de Admisión"
    xLabel="Levante de Válvula (mm)"
    yLabel="Área (mm²)"
  ></app-scatter-chart>
  <app-scatter-chart
    #exhaustFlowChart
    chartId="exhaustFlowChart"
    label="Escape"
    title="Área de Flujo Válvula de Escape"
    xLabel="Levante de Válvula (mm)"
    yLabel="Área (mm²)"
  ></app-scatter-chart>
</div>